# 浏览器从输入URL到页面渲染的整个流程（涉及到计算机网络数据传输过程、浏览器解析渲染过程）

1、DNS解析URL的过程

2、浏览器发送请求与服务器交互的过程

3、浏览器对接收到的html页面渲染的过程

### DNS解析URL的过程
+ 浏览器缓存：浏览器会按照一定的频率 缓存DNS记录
+ 操作系统缓存：如果浏览器缓存中找不到需要的DNS记录，就会取操作系统中找
+ 路由缓存：路由器也有DNS缓存
+ ISP的DNS服务器：ISP有专门的DNS服务器应对DNS查询请求
+ 根服务器：ISP的DNS服务器找不到之后，就要向根服务器发出请求，进行递归查询

### 浏览器发送请求与服务器交互的过程
+ 首先浏览器利用tcp协议通过三次握手与服务器建立连接（思考：为什么要三次，两次为什么不够？）
+ 浏览器根据解析到的IP地址和端口号发起http的get请求
+ 服务器接收到http请求之后，开始搜索html页面，并使用http返回响应报文
+ 若状态码为200显示响应成功，浏览器接收到返回的html页面之后，开始进行页面的渲染

### 浏览器对接收到的html页面渲染的过程
+ 浏览器根据深度遍历的方式把html节点遍历成dom树
+ 将css解析成CSS DOM树
+ 将dom树和CSS DOM树构造成render树
+ JS根据得到的render树 计算所有节点在屏幕中的位置，进行布局（回流）
+ 遍历render树并调用硬件API绘制所有节点（重绘）

--- 
#### **补充：** 构造render渲染树的过程
+ 从DOM树的根节点开始遍历每个可见的节点。
+ 对于每个可见的节点，找到CSS树中的对应的规则，并且应用他们。
+ 根据每个可见的节点及其对应的样式，组合生成渲染树。